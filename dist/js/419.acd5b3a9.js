"use strict";(self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[]).push([[419],{8419:function(t,i,s){s.r(i),s.d(i,{default:function(){return f}});var o=s(3396),a=s(7139);const e={class:"container-fluid d-flex mx-auto"},d={class:"card-area d-flex flex-wrap mx-auto row"},n=["src"],c={class:"card-body"},r={class:"card-title"},u={class:"card-title"},h={class:"btn-group btn-group-sm"},p=["onClick"],l=["onClick","disabled"],g={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},b=(0,o._)("span",{class:"visually-hidden"},"Loading...",-1),m=[b];function v(t,i,s,b,v,_){const C=(0,o.up)("Loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(C,{active:v.isLoading},null,8,["active"]),(0,o._)("div",e,[(0,o._)("div",d,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.products,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"card mt-4 col-3",key:t.id},[(0,o._)("img",{src:t.imageUrl,class:"card-img-top",alt:"",style:{height:"300px",width:"450px","object-fit":"cover","object-position":"50% 30%"}},null,8,n),(0,o._)("div",c,[(0,o._)("h5",r,(0,a.zw)(t.title),1),(0,o._)("h5",u,(0,a.zw)(t.origin_price)+" 元",1),(0,o._)("div",h,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:i=>_.getProduct(t.id)}," 查看更多 ",8,p),(0,o._)("button",{type:"button",class:"btn btn-outline-danger",onClick:i=>_.addCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,o.wg)(),(0,o.iD)("div",g,m)):(0,o.kq)("",!0),(0,o.Uk)(" 加到購物車 ")],8,l)])])])))),128))])])],64)}s(7658);var _={data(){return{products:[],product:{},status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:""},message:""},cart:{},coupon_code:"",isLoading:!1}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/binbro-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){const i="https://vue3-course-api.hexschool.io/api/binbro-api/cart";this.isLoading=!0,this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(i,{data:s}).then((()=>{this.status.loadingItem="",this.isLoading=!1}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/binbro-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1}))},updateCart(t){const i=`https://vue3-course-api.hexschool.io/api/binbro-api/cart/${t.id}`;this.isLoading=!0,this.status.loadingItem=t.id;const s={product_id:t.product_id,qty:t.qty};this.$http.put(i,{data:s}).then((()=>{this.status.loadingItem="",this.getCart()}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/binbro-api/coupon";this.isLoading=!0;const i={code:this.coupon_code};this.$http.post(t,{data:i}).then((()=>{this.getCart(),this.isLoading=!1}))},createOrder(){const t="https://vue3-course-api.hexschool.io/api/binbro-api/order",i=this.form;this.isLoading=!0,this.$http.post(t,{data:i}).then((()=>{this.isLoading=!1}))}},created(){this.getProducts(),this.getCart()}},C=s(89);const L=(0,C.Z)(_,[["render",v]]);var f=L}}]);
//# sourceMappingURL=419.acd5b3a9.js.map