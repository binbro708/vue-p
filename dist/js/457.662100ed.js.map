{"version":3,"file":"js/457.662100ed.js","mappings":"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","sources":["webpack://vue-demo/./src/components/PaginationComponents.vue","webpack://vue-demo/./src/components/PaginationComponents.vue?8f7c","webpack://vue-demo/./src/views/ProductsPage.vue","webpack://vue-demo/./src/components/ProductModal.vue","webpack://vue-demo/./src/components/ProductModal.vue?b0ff","webpack://vue-demo/./src/views/ProductsPage.vue?c95a"],"sourcesContent":["<!-- 分頁按鈕 -->\n<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <!-- 接收外層傳進來的page 之後v-for總頁數 -->\n      <li\n        class=\"page-item\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page\"\n        :class=\"{ active: page === pages.current_page }\"\n      >\n        <!-- 會把當前頁面當參數傳進去emit裡面 -->\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{\n          page\n        }}</a>\n      </li>\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: [\"pages\"],\n  methods: {\n    updatePage(page) {\n      this.$emit(\"emitPages\", page);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationComponents.vue?vue&type=template&id=9fb8b0c8\"\nimport script from \"./PaginationComponents.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponents.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"text-end\">\n    <!-- 新增產品，點擊預設是true -->\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">\n      新增產品\n    </button>\n  </div>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <!-- v-for 把資料列印出來 -->\n      <tr v-for=\"product in products\" :key=\"product.id\">\n        <td>{{ product.category }}</td>\n        <td>{{ product.title }}</td>\n        <td class=\"text-right\">\n          <!-- 用methods裡的filter加入千分號 -->\n          {{ $filters.currency(product.origin_price) }}\n        </td>\n        <!-- 用methods裡的filter加入千分號 -->\n        <td class=\"text-right\">{{ $filters.currency(product.price) }}</td>\n        <td>\n          <span class=\"text-success\" v-if=\"product.is_enabled\">啟用</span>\n          <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n          <div class=\"btn-group\">\n            <!-- 編輯狀態才有東西傳進去 -->\n            <button\n              class=\"btn btn-outline-primary btn-sm\"\n              @click=\"openModal(false, product)\"\n            >\n              編輯\n            </button>\n            <button\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"delModal(product)\"\n            >\n              刪除\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <!-- 分頁元件 -->\n  <!-- props empProduct emit getProducts接收內層傳回來的page-->\n  <PaginationComponents\n    :pages=\"pagination\"\n    @emitPages=\"getProducts\"\n  ></PaginationComponents>\n  <!-- props temProduct emits接收新增的資料並且重新渲染 -->\n  <ProductsModal\n    ref=\"ProductsModal\"\n    :product=\"tempProduct\"\n    @update-product=\"updateProduct\"\n  ></ProductsModal>\n  <!-- del-modal在DelModal.vue中那邊刪除完後會觸發這邊的 getProducts-->\n  <DelModal\n    ref=\"DelModal\"\n    :item=\"tempProduct\"\n    @del-modal=\"getProducts\"\n  ></DelModal>\n</template>\n\n<script>\nimport ProductsModal from \"../components/ProductModal.vue\";\nimport DelModal from \"../components/DelModal.vue\";\nimport PaginationComponents from \"../components/PaginationComponents.vue\";\nexport default {\n  data() {\n    // 定義產品跟分頁\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    ProductsModal,\n    DelModal,\n    PaginationComponents,\n  },\n  inject: [\"emitter\"],\n  methods: {\n    // TODO loading效果\n    // 取得產品列表，預設第一頁\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          // 把取出來的產品列表存進去\n          this.products = res.data.products;\n          // 分頁資訊\n          this.pagination = res.data.pagination;\n        }\n      });\n    },\n    openModal(isNew, item) {\n      // 如果是點擊新增產品，打開來就會是空的\n      if (isNew) {\n        this.tempProduct = {};\n        // 如果不是點新增產品，那就剩下點編輯，那這個tempProduct就會是原本有的資料\n      } else {\n        this.tempProduct = { ...item };\n      }\n      // 原本isNew的false會被改成true\n      this.isNew = isNew;\n      // 把temProduct清空後才打開\n      const productComponent = this.$refs.ProductsModal;\n      productComponent.showModal();\n    },\n    delModal(item) {\n      // 如果是刪除那這邊的表單就會是有的資料，因為你一定要有東西才能刪除嘛\n      this.tempProduct = item;\n      const delProductComponent = this.$refs.DelModal;\n      // 把delModal給打開來\n      delProductComponent.showModal();\n    },\n    // 產品重新渲染，由上方的openModal去判斷是新增還是編輯，來改變表單內容的狀態\n    updateProduct(item) {\n      this.tempProduct = item;\n      // 新增產品資料列表，this.isNew = isNew; 就是點新增產品isNew的狀態\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      //api要用post的方法\n      let httpMethod = \"post\";\n      // isNew=false 就是編輯的狀態\n      if (!this.isNew) {\n        // api要加上個別商品的id\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        // 如果是要編輯就要用put的方法，是firebase\n        httpMethod = \"put\";\n      }\n      // 取到整個ProductsModal元件\n      const productComponent = this.$refs.ProductsModal;\n      // 該新增的新增，該編輯的編輯\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((res) => {\n        // 新增完or編輯完把modal關閉\n        productComponent.hideModal();\n        if (res.data.success) {\n          // 如果成功就重新取得產品列表\n          this.getProducts();\n          // 把這邊的資料跨元件送到ToastMessages那邊\n          this.emitter.emit(\"push-message\", {\n            style: \"success\",\n            title: \"更新成功\",\n          });\n        } else {\n          this.emitter.emit(\"push-message\", {\n            style: \"danger\",\n            title: \"更新失敗\",\n            content: res.data.message.join(\"、\"),\n          });\n        }\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","<!-- 產品Modal -->\n<template>\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  @change=\"uploadFile\"\n                  ref=\"fileInput\"\n                />\n              </div>\n              <img class=\"img-fluid\" alt=\"\" />\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\">\n                <div class=\"mb-3 input-group\">\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <button type=\"button\" class=\"btn btn-outline-danger\">\n                    移除\n                  </button>\n                </div>\n                <div>\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"請輸入標題\"\n                  v-model=\"tempProduct.title\"\n                />\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    placeholder=\"請輸入分類\"\n                    v-model=\"tempProduct.category\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    placeholder=\"請輸入單位\"\n                    v-model=\"tempProduct.unit\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    placeholder=\"請輸入原價\"\n                    v-model.number=\"tempProduct.origin_price\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    placeholder=\"請輸入售價\"\n                    v-model.number=\"tempProduct.price\"\n                  />\n                </div>\n              </div>\n              <hr />\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"請輸入產品描述\"\n                  v-model=\"tempProduct.description\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  placeholder=\"請輸入產品說明內容\"\n                  v-model=\"tempProduct.content\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                    v-model=\"tempProduct.is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <!-- 把新增好的產品資料傳出去，並觸發外層的更新 -->\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-product', tempProduct)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from \"bootstrap/js/dist/modal\";\n\nexport default {\n  // 接收外層傳進來的tempProduct\n  props: {\n    product: {\n      type: Object,\n      default() {\n        // 沒傳東西進來就預設是空值\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: {},\n      // 要來接收外面的資料，等填完新增的表單再拋回去\n      tempProduct: {},\n    };\n  },\n  // product 是由外層props進來的\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n  methods: {\n    showModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n    uploadFile() {\n      // 取到上傳的圖片了\n      const uploadedFile = this.$refs.fileInput.files[0];\n      // 要把他轉成form的格式\n      const formData = new FormData();\n      formData.append(\"file-to-upload\", uploadedFile);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(url, formData).then((res) => {\n        if (res.data.success) {\n          this.tempProduct.imageUrl = res.data.imageUrl;\n        }\n      });\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=31f1c1cd\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsPage.vue?vue&type=template&id=1e14d714\"\nimport script from \"./ProductsPage.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","$props","total_pages","page","active","current_page","key","onClick","$options","_hoisted_5","props","methods","updatePage","this","$emit","__exports__","render","width","_createVNode","_component_Loading","$data","type","product","id","category","title","_hoisted_4","_ctx","currency","origin_price","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_component_PaginationComponents","pages","onEmitPages","_component_ProductsModal","ref","onUpdateProduct","_component_DelModal","item","onDelModal","tabindex","role","for","placeholder","_hoisted_9","_hoisted_10","onChange","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","unit","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","description","_hoisted_29","_hoisted_30","content","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","Object","default","data","modal","tempProduct","watch","showModal","show","hideModal","hide","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","res","success","imageUrl","mounted","Modal","products","pagination","isNew","isLoading","components","ProductsModal","DelModal","PaginationComponents","inject","getProducts","api","get","openModal","productComponent","delModal","delProductComponent","updateProduct","httpMethod","emitter","emit","style","message","join","created"],"sourceRoot":""}